{"remainingRequest":"/home/lucas/Documents/PE/LBF/branches/trefle-deploy/web/srv/trefle-src/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lucas/Documents/PE/LBF/branches/trefle-deploy/web/srv/trefle-src/front/src/components/Referentiel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lucas/Documents/PE/LBF/branches/trefle-deploy/web/srv/trefle-src/front/src/components/Referentiel.vue","mtime":1574698546269},{"path":"/home/lucas/Documents/PE/LBF/branches/trefle-deploy/web/srv/trefle-src/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lucas/Documents/PE/LBF/branches/trefle-deploy/web/srv/trefle-src/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lucas/Documents/PE/LBF/branches/trefle-deploy/web/srv/trefle-src/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lucas/Documents/PE/LBF/branches/trefle-deploy/web/srv/trefle-src/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVmZXJlbnRpZWwnLAogIG1ldGhvZHM6IHsKICAgICAgbG9hZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhpcy4kaHR0cC5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9UUkVGTEVfVVJMK3Byb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1ZFUlNJT04rJy9leHBsb3JlL2ZpbmFuY2VtZW50cycpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMuZmluYW5jZW1lbnRzID0gcmVzcG9uc2UuYm9keTsKICAgICAgICAgICAgICB0aGlzLmNvdW50X2ZpbmFuY2VtZW50cyA9IHRoaXMuZmluYW5jZW1lbnRzLmxlbmd0aDsKICAgICAgICAgICAgICBpZiAodGhpcy5jb3VudF9maW5hbmNlbWVudHM8MikgdGhpcy5sdF90d289dHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgfSwKICBkYXRhOiBmdW5jdGlvbigpewogICAgICByZXR1cm4gewogICAgICAgICAgZmluYW5jZW1lbnRzOltdLAogICAgICAgICAgY291bnRfZmluYW5jZW1lbnRzOjAsCiAgICAgICAgICBsdF90d286ZmFsc2UsCiAgICAgICAgICBzZWFyY2g6IiIKICAgICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5sb2FkKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgICAvKmZpbHRlcmVkRmluYW5jZW1lbnRzOiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmluYW5jZW1lbnRzLmZpbHRlcigoZmluYW5jZW1lbnQpID0+IHsKICAgICAgICAgIC8vcmV0dXJuIGZpbmFuY2VtZW50LmludGl0dWxlLm1hdGNoKHRoaXMuc2VhcmNoKQogICAgICAgIH0pCiAgICAgIH0qLwogIH0sCn0K"},{"version":3,"sources":["Referentiel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Referentiel.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"Referentiel\">\n    <div id=\"ref-main-div\">  \n      <div id=\"ref-header-row\">\n        <div class=\"container\">\n          <div class=\"row mb-4\">\n            <div id=\"ref-count-financements\" class=\"col-md-3 col-sm-6 col-xs-12\">\n              <span id=\"ref-count-financements-number\" class=\"ref-results-count-number ref-count-financements-text\">{{ this.count_financements }}</span>\n              <span class=\"ref-count-financements-text\" v-if=\"this.lt_two\">&nbsp;financement</span>\n              <span class=\"ref-count-financements-text\" v-else>&nbsp;financements</span>\n            </div>\n            <div id=\"ref-create-financement\" class=\"col-md-3 col-sm-6 col-xs-12 my-auto\">\n              <button href=\"#\" class=\"btn btn-outline-success\" disabled>Créer un financement</button>\n            </div>\n            <div id=\"ref-search-financement\" class=\"col-md-6 col-sm-12 col-xs-12 my-auto\">\n              <div class=\"form-inline pull-right\">\n                <div class=\"form-group mx-sm-3 mb-2\">\n                  <input class=\"form-control\" id=\"financement-search-field\" name=\"financement-search\" type=\"search\" placeholder=\"Rechercher\" v-model=\"search\">\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div id=\"ref-last-update\" class=\"col-md-12\">\n              Dernière mise à jour le __ à __\n            </div>\n          </div>\n        </div>\n      </div>\n      <hr class=\"ref-horizontal-separator\">\n      <div id=\"ref-filter-row\" class=\"container\">\n        <label for=\"financement-filter-select\">Filtrer par</label>\n        <select id=\"financement-filter-select\" class=\"form-control\" name=\"financement-filter-select\" disabled>\n          <option>Tous les publics</option>\n        </select>\n      </div>\n      <hr class=\"ref-horizontal-separator\">\n      <div id=\"ref-result-row\" class=\"container\">\n        <span v-if=\"this.lt_two\" class=\"ref-results-count\">\n            Résultat (<span class=\"ref-results-count-number\"></span>)\n        </span>\n        <span v-else class=\"ref-results-count\">\n            Résultats (<span class=\"ref-results-count-number\"></span>)\n        </span>\n        <div id=\"ref-results-list\">\n          <ul id=\"ul-ref-results-list\" class=\"container\">\n            <li v-for=\"financement in this.financements\" :key=\"financement.id\" class=\"mt-4 row\">\n              <span class=\"col-md-3 col-sm-12\">\n                <strong class=\"ref-fields\">{{ financement.intitule }}</strong>\n              </span>\n              <span class=\"col-md-8 col-sm-11\">\n                <button v-for=\"tag in financement.tags\" :key=\"tag.id\" class=\"ref-results-tags btn btn-outline-info\" href=\"#\" disabled>{{ tag }}</button>\n              </span>\n              <span class=\"col-md-1 col-sm-1 pull-right\">              \n                <button href=\"https://framagit.org/ybon/trefle/tree/master/trefle/config/financements.yml\" target=\"_blank\" class=\"text-dark btn btn-outline-light\" disabled>\n                  <i class=\"icon\" style=\"vertical-align: baseline;\">edit</i>\n                </button>\n              </span>\n            </li>         \n            <hr class=\"ref-list-horizontal-separator\">\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'Referentiel',\n  methods: {\n      load: function () {\n          this.$http.get(process.env.VUE_APP_TREFLE_URL+process.env.VUE_APP_API_VERSION+'/explore/financements').then(response => {\n              this.financements = response.body;\n              this.count_financements = this.financements.length;\n              if (this.count_financements<2) this.lt_two=true;\n              }\n          );\n      }\n  },\n  components: {\n  },\n  data: function(){\n      return {\n          financements:[],\n          count_financements:0,\n          lt_two:false,\n          search:\"\"\n      }\n  },\n  beforeMount: function () {\n      this.load();\n  },\n  computed: {\n      /*filteredFinancements: () => {\n        return this.financements.filter((financement) => {\n          //return financement.intitule.match(this.search)\n        })\n      }*/\n  },\n}\n</script>\n<style>\n#ref-header-row {\n  padding-top: 3rem;\n}\n\n.ref-count-financements-text {\n  font-size: 1.5em;\n}\n#ref-count-financements-number {\n  font-size: 2.5em;\n  font-style: bolder;  \n}\n\n#ref-last-update {\n  font-size: 0.9em;\n  color: #000; /* Fallback for older browsers */\n  color: rgba(0, 0, 0, 0.5);\n}\n\n/*#ref-filter-row {\n}\n\n#ref-results-row {\n}*/\n\n.ref-results-count {\n  color: #000; /* Fallback for older browsers */\n  color: rgba(0, 0, 0, 0.5);\n}\n\n#ref-results-list {\n  padding-top: 2rem;\n}\n\n.ref-horizontal-separator {\n  border: none;\n  border-top: 1px solid #bfbfbf;\n  height: 1px;\n  width: 90%;\n  position:relative;\n}\n\n\n#financement-filter-select {\n  width: 15%;\n}\n</style>"]}]}
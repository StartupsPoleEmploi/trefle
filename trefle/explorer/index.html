<!DOCTYPE html>
<meta charset=utf-8>
<title>Trèfle feuille à feuille</title>
<script src="vendor/riot/riot%2Bcompiler.js"></script>
<script src="vendor/riot/route%2Btag.min.js"></script>
<link rel="stylesheet" type="text/css" href="app.css">
<script type="text/javascript" src="mixin/view.mixin.js"></script>
<script src="components/navbar.tag.html" type="riot/tag"></script>
<script src="components/schema.tag.html" type="riot/tag"></script>
<script src="components/rule.tag.html" type="riot/tag"></script>
<script src="components/rules.tag.html" type="riot/tag"></script>
<script src="components/simulate.tag.html" type="riot/tag"></script>

<app>
  <header data-is=navbar class=header></header>
  <section class=main>
    <schema></schema>
    <rules></rules>
    <simulate></simulate>
  </section>
</app>

<script>
  riot.mount('navbar')
  route('/schema', () => riot.mount('schema'))
  route('/rules', () => riot.mount('rules'))
  route('/simulate', () => riot.mount('simulate'))

  let SCHEMA

  fetch('/explore/schema')
  .then((response) => response.json())
  .then((data) => {
    SCHEMA = data
    route.start(true)
  })

</script>

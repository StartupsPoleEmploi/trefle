Si l'intitulé du financement est «CPF de transition professionnel»
    Alors appliquer les règles «CPF de transition professionnel»

Si le financement est de type «CPF»
    Alors appliquer les règles «CPF»
    Et le prix horaire plafond applicable vaut 35
    Et le plafond horaire applicable est égal au solde CPF du bénéficiaire
    Si c'est une formation VAE
        Alors le prix horaire plafond applicable vaut 100
        Et le plafond horaire applicable est égal à la durée en heures de la formation

        #Si le financement est de type «CIF»
        #
        #    Alors appliquer les règles «CIF»
        #    Et la rémunération applicable est égale à la rémunération du bénéficiaire
        #
        #    Si la rémunération du bénéficiaire est supérieure à deux fois le SMIC
        #        Alors la rémunération applicable est égale à 80% de la rémunération du bénéficiaire
        #
        #        # TODO: how to properly make this dynamic with SMIC value?
        #        # 3746 = deux fois le smic / 0.8
        #        Si la rémunération du bénéficiaire est inférieure à 3746
        #            Alors la rémunération applicable est égale à deux fois le SMIC
        #
        #        # 7492 = quatre fois le smic / 0.8
        #        Si la rémunération du bénéficiaire est supérieur à 7492
        #            Alors la rémunération applicable est égale à quatre fois le SMIC
        #
        #    Si le type de contrat du bénéficiaire est «CDI»
        #        # HT
        #        Alors le plafond financier applicable vaut 18000
        #        Et le prix horaire plafond applicable vaut 28
        #
        #    Si le type de contrat du bénéficiaire est «CDD»
        #    Et la durée hebdomadaire de la formation est supérieure ou égale à 25
        #        # HT
        #        Alors le plafond financier applicable vaut 21000
        #        Et le prix horaire plafond applicable vaut 35

Si le financement est de type «plan de formation»

    Si le type de contrat du bénéficiaire fait partie de [«CDD»,«CDI»]
        Alors la rémunération applicable est égale à la rémunération du bénéficiaire

        Si c'est une formation VAE
            Alors appliquer les règles «plan de formation»
            Et le plafond financier applicable vaut 2500

        # langues
        Si c'est une formation langues
        Ou la liste des codes FORMACODE de la formation contient au moins un code parmi [70054,31056]
        Ou c'est une formation ouverte à distance
        Ou le niveau de sortie de la formation fait partie de [«I»,«II»]
            Alors appliquer les règles «plan de formation»
            Et le prix horaire plafond applicable vaut 40


        Si c'est un bilan de compétences
            Alors appliquer les règles «plan de formation»
            Et le plafond financier applicable vaut 1800

Si le financement est de type «période de professionnalisation»

    Si le type de contrat du bénéficiaire est «CDI»

        Si c'est une formation VAE
            Alors appliquer les règles «période de professionnalisation»
            Et le plafond financier applicable vaut 2500

        # langues
        Si c'est une formation langues
        # bureautique
        Ou la liste des codes FORMACODE de la formation contient au moins un code parmi [70054,31056]
        Ou c'est une formation ouverte à distance
        Ou le niveau de sortie de la formation fait partie de [«I»,«II»]
            Alors appliquer les règles «période de professionnalisation»
            Et le prix horaire plafond applicable vaut 40

        Si c'est un bilan de compétences
            Alors appliquer les règles «période de professionnalisation»
            Et le plafond financier applicable vaut 1800

        # spectacle
        # Intitulé CQP : Certificat de qualification professionnelle Accrocheur - rigger
        Si le code RNCP de la formation est 20613
        # CQP WEBDESIGNER
        Ou le code CERTIFINFO de la formation est 95673
        # CQP RESPONSABLE DE PRODUCTION OMNICANAL
        Ou le code RNCP de la formation est 24854
        # CQP DEVELOPPEUR DE FORMATS AUDIOVISUELS ET NUMERIQUES
        Ou le code CERTIFINFO de la formation est 98231
        # CQP MACHINISTE
        Ou le code RNCP de la formation est 23706
        # CQP RESTAURATEUR NUMÉRIQUE OPTION IMAGE
        Ou le code RNCP de la formation est 23710
        # CQP ANIMATEUR RADIO
        Ou le code RNCP de la formation est 12303
            Alors appliquer les règles «période de professionnalisation»
            Et le plafond financier applicable vaut 1000
